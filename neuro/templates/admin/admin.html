
<!DOCTYPE html>
<html style="background-color: transparent" >
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta charset="utf-8">
      <meta name="keywords" content="Neuromedical, Alzhaimer, Tests">
      <meta name="description" content="Online testy psychologiczne">
      <title>Neuromedical | Panel Admina</title>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/bulma.css') }}"media="screen">
      <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/all.css') }}"media="screen">
      <script defer src="{{url_for('static', filename='fontawesome/js/all.js')}}"></script>
      <link rel="preconnect" href="https://fonts.gstatic.com">
      <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
       <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
   
   </head>
   <style>
      @media screen and (max-width: 1068px) {
      #menu-toggle:checked + .nav-menu {
      display: block;
      }
      }
      .table-wrapper{
      overflow-x:auto;
      }
      .table-wrapper::-webkit-scrollbar-track{
      background-color:black;
      }
      .table-wrapper::-webkit-scrollbar-thumb{
      background-color:black;
      }
      .select1{
      border-radius:10px !important;
      }
      .select1:hover{
      background-color:rgb(108, 102, 251)!important;
      }
      .is-active2{
      background-color:rgb(108, 102, 251)!important;
      }
      .dodaj:hover{
      background:none;
      }
            .navbar-link:hover{
      background-color:gray !important;
      }
      .navbar-link{
      transition:0.5s ease !important;
      }
      .navbarlinks{
      transition:0.5s ease !important;
      }
      .navbarlinks:hover {
      background-color:rgb(108, 102, 251) !important;
      color:white !important;
      }
      .navbarlinkslogout{
      transition:0.5s ease !important;
      color: red !important;
      }
      .navbarlinkslogout:hover {
      background-color:red !important;
      color:white !important;
      }
      .navbar-dropdown{
      transition:0.2s ease !important;
      }
      .simple{
        margin:10px;
        border-radius:4px;
        transition:0.2s ease !important;
        
      }
      .simple:hover{
        background:none !important;
        color:rgb(108, 102, 251) !important;
      }
      ::placeholder { /* Firefox, Chrome, Opera */
    color: gray !important;
}
  
:-ms-input-placeholder { /* Internet Explorer 10-11 */
     color: gray !important;
}
}
  
::-ms-input-placeholder { /* Microsoft Edge */
     color: gray !important;
}
      .test:hover{
   transform:translateY(-3px);
}
.test{
transition:0.5s ease !important;
}
.custom-button{
   background:transparent;
   color:white;
}
.custom-button:hover{
   border:1px solid #3273dc;
   color:white;
}
.custom-button-active{
    border:1px solid #3273dc;
    color:white;
    background:none;
}
.more:hover{
   color:#3273dc !important;
}
.is-active{
    background-color:rgb(108, 102, 251) !important;
}

}
   </style>
   <body style="background-color: rgb(47, 46, 75);color:white;padding:10px;">
      <nav class="navbar" role="navigation" aria-label="main navigation" style="margin:20px; border-radius:10px; background:transparent;border-radius:4px; color:white;background-color:transparent"aria-label="menu" aria-expanded="false" data-target="menu">
         <div class="navbar-brand">
            <a class="navbar-item" href="/admin">
               <h1 class="text has-text-white"><strong>Neuromedical | Panel Admina </strong></h1>
            </a>
         
         </div>
       
         
      </nav>
     
      
      <section class="main-content columns is-fullheight">
    
       <aside class="menu " style="margin:25px;background-color:rgb(35, 37, 56);padding:20px;border-radius:10px;">
        <p class="menu-label">Narzędzia</p>
        <ul class="menu-list ">
            <li><a href="/admin" class="has-text-white test navbarlinks">
                <span class="icon"><i class="fas fa-tachometer-alt"></i></span>
                Lista pacjentów
            </a></li>
            <li><a href="/admin/add" class="{%if active_page=="add"%}is-active{%else%}has-text-white navbarlinks{%endif%} test">
                <span class="icon"><i class="fas fa-plus"></i></span>
                Dodaj użytkownika
            </a></li>
            <li><a href="/admin/test" class="{%if active_page=="edit"%}is-active{%else%}has-text-white{%endif%} navbarlinks test">
                <span class="icon"><i class="fas fa-pen"></i></span>
                Edytuj test
            </a></li>
        </ul>
        <p class="menu-label">Administrator</p>
        <ul class="menu-list">
            <li><a href="/admin/alert" class="{%if active_page=="alert"%}is-active{%else%}has-text-white{%endif%} navbarlinks test">
                <span class="icon"><i class="fas fa-bell"></i></span>
                Alerty <span class="tag is-info is-pulled-right">112</span>
            </a></li>
            <li><a href="/edit" class="has-text-white navbarlinks test">
                <span class="icon"><i class="fas fa-user"></i></span>
                Twoje dane
            </a></li>
          <li><a href="/logout" class="has-text-white navbarlinkslogout test">
                <span class="icon"><i class="fas fa-sign-out-alt"></i></span>
                Wyloguj się
            </a></li>
        </ul>
    </aside>
</div>
 <div class="column">
     {% block content %}
   
         <div class="container column is-16">
         
         <div class="section">
            <div class="container">
               <h2 class="title has-text-primary">List pacjentów</h2>
               <div class="columns has-text-centered">
                  <div class="column is-3">
                     <div class="box has-background-info">
                        <h3 class="title is-2 has-text-white">{{users_number}}</h3>
                        <p class="subtitle has-text-white">Liczba pacjnetów</p>
                     </div>
                  </div>
                  <div class="column is-3">
                     <div class="box has-background-warning">
                        <h3 class="title is-2 has-text-white">{{test_number}}</h3>
                        <p class="subtitle has-text-white">Rozwiązane testy</p>
                     </div>
                  </div>
                  <div class="column is-3">
                     <div class="box  has-text-white {% if average<10%} has-background-danger {%else%} has-background-success {%endif%}">
                        <h3 class="title is-2 has-text-white">{{'%1.0f'| format(average)}}</h3>
                        <p class="subtitle has-text-white">Średni wynik z testów</p>
                     </div>
                  </div>
               </div>
             
                <div class="field">
                <form class="form has-text-white" method="post" action="" 
         >
           <div class="columns">
          <div class="column">
          <form method="POST" action="">
     <p class="control has-icons-left has-icons-right has-text-danger">
    <input type="text" class="input search" placeholder="Szukaj po imieniu" name="search" style="border:none;outline:none;border-radius:0px; background-color:rgb(35, 37, 56); color:white;">
                 <span class="icon is-small is-left">
                <i class="fas fa-search"></i>
              </span>
              
            </p>
          </div>
             <div class="column">
            <input class="button test custom-button" value="Szukaj"  type="submit">
            </button>
              </div>
            </div>
        </form>
        </div>
               <div class="table-wrapper">
                  <table class="table is-fullwidth" style="overflow-x:scroll;background-color:rgb(35, 37, 56);color:white;border-radius:10px; padding:20px;">
                     <thead style="color:white; overflow:scroll;">
                        <tr >
                           <th scope="col"style="color:white; ">ID #</th>
                           <th scope="col"style="color:white;">Nazwa</th>
                           <th scope="col"style="color:white;">Email</th>
                           <th scope="col"style="color:white;">Rola</th>
                           <th class="has-text-centered  has-text-white" scope="col">Data dołączenia</th>
                           <th class="has-text-centered has-text-white" scope="col">Zobacz</th>
                        
                        </tr>
                     </thead>
                     <tbody >
                        {% for user in users.items%}
                        <tr>
                           <td>{{loop.index}}</td>
                           <td>
                              <a href="/admin/user/{{user.id}}">
                                 <div class="media">
                                    <div class="media-content test{% if user.role == 'admin' %} has-text-warning {%elif user.role == 'patient' %} has-text-primary {%endif%}">{{user.name}}</div>
                                 </div>
                              </a>
                           </td>
                           <td><a class="has-text-info test"href="mailto:{{user.email}}">{{user.email}}</a></td>
                           <td class="has-text-centered  {% if user.role == 'admin'%} has-text-warning {%elif user.role == 'patient' %} has-text-primary {%endif%}">{{user.role}}</td>
                           <td class="has-text-centered has-text-white">{{user.created_at}}</td>
                           <td class="has-text-centered more"><a class="more" href="/admin/user/{{user.id}}"> <i class="fas fa-ellipsis-h more test" style="color:white;"></i></a></td>
                         
                        </tr>
                        {% endfor %}
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
         
         <nav style="margin:25px;">
            <div class="container">
            <div class="pagination" role="navigation" aria-label="pagination">
               <div class="lol">
                  <a  href="{{ url_for('Admin.admin', page=users.prev_num) }}"
                     class="custom-button test button
                     {% if users.page == 1 %}is-hidden{% endif %}">
                  &laquo;
                  </a>
                  <!-- Loop through the number of pages to display a link for each-->
                  {% for page_num in users.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
                  {% if page_num %}
                  <!-- Check for the active page and set the link to "Active"-->
                  {% if users.page == page_num %}
                  <a class="custom-button-active is-transparent button"href="{{ url_for('Admin.admin', page=page_num) }}"
                     class="custom-button-active ">
                  {{ page_num }}
                  </a>
                  {% else %}
                  <a href="{{ url_for('Admin.admin', page=page_num) }}"
                     class="custom-button test button">
                  {{ page_num }}
                  </a>
                  {% endif %}
                  {% else %}
                  ...
                  {% endif %}
                  {% endfor %}
                  <a href="{{ url_for('Admin.admin', page=users.next_num) }}"
                     class="custom-button test button
                     {% if users.page == users.pages %}disabled{% endif %}">
                  &raquo;
                  </a>
               </div>
            </div>
         </nav>
      </section>
      </div>
      {% endblock content %}
      <script>
         document.addEventListener('DOMContentLoaded', function () {
         
           // Get all "navbar-burger" elements
           var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
           var $navbarLinks   = Array.prototype.slice.call(document.querySelectorAll('.navbar-link'),0);
            var $navbarDrop   = Array.prototype.slice.call(document.querySelectorAll('.navbar-dropdown'),0);
           // Check if there are any nav burgers
           if ($navbarBurgers.length > 0) {
         
             // Add a click event on each of them
             $navbarBurgers.forEach(function ($el) {
               $el.addEventListener('click', function () {
         
                 // Get the target from the "data-target" attribute
                 var target = $el.dataset.target;
                 var $target = document.getElementById(target);
         
                 // Toggle the class on both the "navbar-burger" and the "navbar-menu"
                 $el.classList.toggle('is-active');
                 $target.classList.toggle('is-active');
         
               });
             });
         
             $navbarLinks.forEach(function ($el) {
               $el.addEventListener('click', function () {
         
                 // Get the target from the "data-target" attribute
                 
                 var $target = document.getElementByID('navbar1');
         
                 // Toggle the class on both the "navbar-burger" and the "navbar-menu"
                 $el.classList.toggle('is-active');
                 $target.classList.toggle('is-hidden-mobile');
         
               });
             });
           }
         
         });
         
         
         
         
      </script>
   </body>
</html>
